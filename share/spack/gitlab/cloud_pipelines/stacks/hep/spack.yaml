spack:
  view: false

  concretizer:
    reuse: false
    unify: false

  packages:
    all:
      require: '%gcc target=x86_64_v3'
      providers:
        blas: [openblas]
    binutils:
      variants: +ld +gold +headers +libiberty ~nls
    elfutils:
      variants: +bzip2 ~nls +xz
    cuda:
      version: [11.8.0]

  specs:
  # CPU
  - acts +analysis +binaries +dd4hep +edm4hep +examples +fatras +geant4 +hepmc3 +identification +podio +pythia8 +python +tgeo
  - dd4hep +ddalign +ddcad +ddcond +dddetectors +dddigi +ddeve +ddg4 +ddrec +edm4hep +hepmc3 +lcio +utilityapps +xercesc
  - delphes +pythia8
  - edm4hep
  - fastjet
  - fjcontrib
  - garfieldpp +examples
  - gaudi +aida +examples +heppdt +xercesc
  - geant4 +opengl +qt +threads +vtk
  - hepmc
  - hepmc3 +interface +protobuf +python +rootio
  - herwig3 +njet +vbfnlo
  - lcio +examples +jar +rootdict
  - lhapdf +python
  - madgraph5amc
  - opendatadetector
  - podio +rntuple +sio
  - py-uproot +lz4 +xrootd +zstd
  - pythia8 +evtgen +fastjet +hdf5 +hepmc +hepmc3 +lhapdf +madgraph5amc +python +rivet -root # pythia8 and root circularly depend
  - rivet hepmc=3
  - root +davix +dcache +examples +fftw +fits +fortran +gdml +graphviz +gsl +http +math +minuit +mlp +mysql +opengl +oracle +postgres +pythia6 +pythia8 +python +r +roofit +root7 +shadow +spectrum +sqlite +ssl +tbb +threads +tmva +unuran +vc +vdt +veccore +webgui +x +xml +xrootd
  - sherpa +analysis +blackhat +fastjet +gzip +hepmc2 +hepmc3 +hepmc3root +hztool +lhapdf +lhole +openloops +pythia +python +recola +rivet +root +ufo
  - vecgeom +gdml +geant4 +root
  - xrootd +davix +http +krb5 +python +readline +scitokens-cpp

  ci:
    pipeline-gen:
    - build-job:
        image: "ghcr.io/spack/ubuntu20.04-runner-amd64-gcc-11.4:2023.08.01"

  cdash:
    build-group: HEP
